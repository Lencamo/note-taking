## æ•°æ®åº“

åˆ†ç±»ï¼š

- å…³ç³»å‹æ•°æ®åº“ï¼šmysqlã€SqlServerã€db2ã€oracle
- éå…³ç³»å‹æ•°æ®åº“ï¼šMongoDBã€Redis

## ä¸€ã€MySQL åŸºç¡€

&emsp;&emsp;ä¸ºäº†ä½¿ç”¨ mysqlï¼Œå¯ä»¥å•ç‹¬ä¸ºç”µè„‘å®‰è£… mysql æ•°æ®åº“ + Navicat å¯è§†åŒ–å·¥å…·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€äº›é›†æˆç¯å¢ƒï¼ˆå¦‚ï¼šphpstudyã€wampserverï¼‰ã€‚

- mysql [å®‰è£…ç‰ˆ](https://dev.mysql.com/downloads/installer/) æˆ–è€… [è§£å‹ç‰ˆ](https://downloads.mysql.com/archives/community/) + Navicat å¯è§†åŒ–ï¼ˆé»˜è®¤ç«¯å£å·ï¼š3306ï¼‰
- wampserver é›†æˆå·¥å…·ï¼ˆé»˜è®¤ç«¯å£å·ï¼š80ï¼‰

> è‹¥ä½¿ mysql è§£å‹ç‰ˆï¼Œå…³äºç¯å¢ƒå˜é‡å°±æš‚æ—¶ä¸ç”¨é…ç½®äº†ï¼Œç›´æ¥åœ¨ mysql æ•°æ®åº“çš„ bin ç›®å½•æ‰“å¼€ç»ˆç«¯æ“ä½œå³å¯ã€‚

â‘  å¯åŠ¨æœåŠ¡ç«¯ï¼ˆmongod.exeï¼‰ï¼š

å‡†å¤‡å·¥ä½œï¼š

- é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯ä»¥çœç•¥ï¼‰
- æ ¹ç›®å½•æ–°å»º my.ini

```ini
[mysql]
default-character-set=utf8

[mysqld]
character-set-server=utf8
default-storage-engine=INNODB
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
```

æ­£å¼å¯åŠ¨ï¼š

```sh
.\mysqld.exe --initialize-insecure ï¼ˆä¼šåœ¨æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ªdataæ–‡ä»¶å¤¹ï¼‰

.\mysqld.exe
```

â‘¡ å¯åŠ¨å®¢æˆ·ç«¯ï¼ˆmongo.exeï¼‰ï¼š

```sh
.\mysql.exe -u root -p ï¼ˆé»˜è®¤å¯†ç ä¸ºç©ºï¼‰
```

â‘¢ å¯è§†åŒ–å®¢æˆ·ç«¯

- Navicat

### 1ã€æ•°æ®åº“ã€è¡¨çš„æ“ä½œ

â‘  æ•°æ®åº“æ“ä½œ

```sh
å±•ç¤ºæ‰€æœ‰æ•°æ®åº“
show databases;
å±•ç¤ºå½“å‰æ•°æ®åº“
select database() / status;

åˆ›å»º/åˆ‡æ¢æ•°æ®åº“
use <æ•°æ®åº“å>;
åˆ é™¤æ•°æ®åº“
drop database if exists <æ•°æ®åº“å>;
```

â‘¡ è¡¨çš„æ“ä½œ

```sh
å±•ç¤ºè¡¨ç»“æ„
desc <è¡¨å>;
```

```sh
å±•ç¤ºæ‰€æœ‰è¡¨
show tables;

åˆ›å»ºè¡¨
create table <è¡¨å> (
  å­—æ®µå æ•°æ®ç±»å‹,
  â€¦â€¦
  å­—æ®µå æ•°æ®ç±»å‹
)
åˆ é™¤è¡¨
drop table if exists <è¡¨å>;
```

```sh
æ”¹è¡¨å
alter table <è¡¨å> rename to <æ–°è¡¨å>

æ·»åŠ ã€åˆ é™¤åˆ—
alter table <è¡¨å> add åˆ—å æ•°æ®ç±»å‹
alter table <è¡¨å> drop åˆ—å

ä¿®æ”¹ï¼ˆåˆ—åç§°ã€æ•°æ®ç±»å‹ï¼‰
alter table <è¡¨å> modify åˆ—å æ–°æ•°æ®ç±»å‹
alter table <è¡¨å> change åˆ—å æ–°åˆ—å æ–°æ•°æ®ç±»å‹
```

### 2ã€æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥

å¢

```sh
INSERT INTO `<è¡¨å>` (`<id>`,`<å­—æ®µå>`,`<å­—æ®µå>`) VALUES (`null`,`å€¼`,`å€¼`)
```

åˆ 

```sh
DELETE FROM `<è¡¨å>` WHERE â€¦â€¦
```

æ”¹

```sh
UPDATE `<è¡¨å>` SET `<å­—æ®µå>`=`å€¼`, `<å­—æ®µå>`=`å€¼` WHERE â€¦â€¦
```

æŸ¥

```sh
SELECT * FROM `<è¡¨å>` WHERE â€¦â€¦ GROUP BY â€¦â€¦ HAVING â€¦â€¦ ORDER BY â€¦â€¦ LIMIT â€¦â€¦ OFFSET
```

## äºŒã€MySQL ä¸ Node.js

### 1ã€å®‰è£…

```sh
npm i mysql2
```

### 2ã€è¿æ¥æ•°æ®åº“

- index.js

```js
const express = require('express')
const app = expresss()

const mysql2 = require('mysql2')
// åˆ›å»ºğŸš©è¿æ¥æ± 
const promisePool = mysql2.createPool({
    host: '127.0.0.1',
    port: 3306
    user: 'root',
    password: '123456',
    database: 'node_mysql_test',
    connectionLimit: 1  //åˆ›å»ºçš„è¿æ¥æ± ä¸ªæ•°
  }).promise()


app.get('/', async (req, res) => {
  // è¿›è¡Œæ•°æ®åº“âœ¨æ“ä½œï¼ˆæ•°æ®åœ¨ç»“æœæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰
  // å¢
  let users = await promisePool.query(
    'INSERT INTO student (name,age,gender) VALUES (?,?,?)',
    ['lisi', 33, 'ç”·'])

  // åˆ 
  let users = await promisePool.query(
    'DELETE FROM student WHERE name=?',
    ['lisi'])

  // æ”¹
  let users = await promisePool.query(
    'UPDATE student SET age=? WHERE name=?',
    [39, 'lisi'])

  // æŸ¥
  let users = await promisePool.query(
    'SELECT * FROM `table` WHERE `name` = ? AND `age` > ?',
    ['lencamo', 45])

  res.send({
    data: users[0]
  })
})

app.listen(3000, '127.0.0.1', function () {
  console.log('Server running at http://127.0.0.1:3000')
})
```
