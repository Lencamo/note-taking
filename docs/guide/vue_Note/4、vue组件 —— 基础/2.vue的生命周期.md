## Vue å®ä¾‹

å®˜æ–¹æ–‡æ¡£æœ‰è¨€ï¼š

> <span style="background-color: yellow;color:black;">ç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹</span>ï¼Œä¸”å¸¦æœ‰ä¸€ä¸ªåå­—ï¼ˆåµŒå…¥çš„æ ‡ç­¾åï¼‰ï¼›å‰é¢æˆ‘ä»¬ä½¿ç”¨`<Left></Left>`ç›¸å½“äº new äº†ä¸€ä¸ª Vue å®ä¾‹ã€‚

## ä¸€ã€çŸ¥è¯†å›é¡¾

- index.html

```html
<body>
  <!-- 1ã€App.vueç»„ä»¶å†…å®¹ä¼šå°†å…¶è¦†ç›– -->
  <div id="app"></div>

  <!-- 2ã€å°†æ‰€éœ€è¦çš„cssã€jsç­‰ç­‰æ–‡ä»¶è‡ªåŠ¨æ³¨å…¥ -->
  <!-- built files will be auto injected -->
</body>
```

&emsp;&emsp;é€šè¿‡å³é”®æŸ¥çœ‹æºç ï¼Œå¯ä»¥å‘ç°é¡µé¢è‡ªåŠ¨æ³¨å…¥äº†æ‰“åŒ…ç”Ÿæˆçš„ js æ–‡ä»¶ï¼Œç±»ä¼¼äº webpack ä¸­çš„ `html-webpack-plugin` è¾…åŠ©æ’ä»¶ã€‚

```html
<script defer src="/js/chunk-vendors.js"></script>
<script defer src="/js/app.js"></script>
```

### æ€è€ƒï¼Ÿ

#### 1ã€ä¸Šè¿°è‡ªåŠ¨æ³¨å…¥çš„ js æ–‡ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

&emsp;&emsp;ä¸º vue-cli å†…çš„`vue-template-compiler`æ’ä»¶ç¼–è¯‘ç”Ÿæˆçš„ã€‚å…¶ä¸­ app.js ä¸º.vue ç­‰æ–‡ä»¶ç¼–è¯‘è€Œæ¥ï¼›chunk-vendors.js ä¸ºç¬¬ä¸‰æ–¹æ¨¡å—æ‰“åŒ…ç”Ÿæˆè€Œæ¥ã€‚

## äºŒã€ç”Ÿå‘½å‘¨æœŸä¸ç”Ÿå‘½å‘¨æœŸå‡½æ•°

&emsp;&emsp;<span style="color: red;">ç”Ÿå‘½å‘¨æœŸ</span>æ˜¯æŒ‡ä¸€ä¸ªç»„ä»¶ä»<span style="color: green;">åˆ›å»º</span> â€”> <span style="color: green;">è¿è¡Œ</span> â€”> <span style="color: green  ;">é”€æ¯</span>çš„æ•´ä¸ªé˜¶æ®µã€‚å®ƒå¼ºè°ƒçš„æ˜¯ä¸€ä¸ª <span style="background-color: pink;color: black;">æ—¶é—´æ®µ</span>ã€‚

<img src="https://deer-sir.oss-cn-chengdu.aliyuncs.com/note-taking/20220604221900.png" width=781px />

&emsp;&emsp;<span style="color: red;">ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span>æ˜¯ vue æ¡†æ¶æä¾›çš„<span style="color: green  ;">å†…ç½®å‡½æ•°</span>ï¼Œä¼šä¼´éšç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œè‡ªåŠ¨æŒ‰æ¬¡åºæ‰§è¡Œã€‚å®ƒå¼ºè°ƒçš„æ˜¯ä¸€ä¸ª <span style="background-color: pink;color: black;">æ—¶é—´ç‚¹</span>ã€‚

### 1ã€ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾

&emsp;&emsp;ç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª vue å®ä¾‹ã€‚

<img src="https://deer-sir.oss-cn-chengdu.aliyuncs.com/note-taking/20220604223258.png" width=541px/>

### 2ã€ä»£ç æ¼”ç¤º

```html
<template>
  <!-- ç»„ä»¶çš„æœ€å¤–å±‚åªèƒ½åŒ…å«ä¸€ä¸ªå”¯ä¸€çš„æ ¹å…ƒç´  -->
  <div>
    <div class="contain">
      <p id="msg">{{message}}</p>
      <button @click="message += '~'">ä¿®æ”¹messageçš„å€¼</button>
    </div>

    <!-- é”€æ¯é˜¶æ®µæ¼”ç¤º -->
    <Left v-if="flag"></Left>
    <button @click="flag = !flag">Toggle ğŸ— Flag</button>
  </div>
</template>

<script>
  import Left from "@/components/Left.vue";

  export default {
    // 1ã€å¸¸è§„çš„å±æ€§
    components: {
      Left,
    },
    data() {
      return {
        books: [],
        message: 'æ¬¢è¿ä½ ï¼',
        flag: true,
      };
    },
    methods: {
      // ä½¿ç”¨ajaxè¯·æ±‚å›¾ä¹¦åˆ—è¡¨æ•°æ®
      initBookList() {
        const xhr = new XMLHttpRequest();
        xhr.addEventListenter("load", () => {
          const result = JSON.parse(xhr.responseText);
          console.log(result);

          this.books = result.data;
        });
        xhr.open("GET", "http://www.liulongbin.top: 3306/api/getbooks");
        xhr.send();
      },
    },
    watch: {},

    // 2ã€ç”Ÿå‘½å‘¨æœŸğŸš©å‡½æ•°

    // â‘  åˆ›å»ºé˜¶æ®µ
    // è¯¥é˜¶æ®µå¯ä»¥å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®
    created() {
      this.initBookList();
    },
    // è¯¥é˜¶æ®µå¯ä»¥æœ€æ—©âœ¨çš„æ“ä½œé¡µé¢çš„DOMå…ƒç´ 
    mounted() {
      console.log(this.$el);
    },

    // â‘¡ è¿è¡Œå’Œé”€æ¯é˜¶æ®µ
    // è¯¥é˜¶æ®µçš„é¡µé¢æ•°æ®æ˜¯æœ€æ–°çš„
    beforeupdate() {
      // æ–°æ•°æ®
      console.log(this.message)
      // æ—§ç»“æ„
      console.log(document.querySelector('#msg').innerHTML)
    }
    // è¯¥é˜¶æ®µçš„é¡µé¢ç»“æ„æ˜¯æœ€æ–°çš„
    update() {
      // æ–°æ•°æ®
      console.log(this.message)
      // æ–°ç»“æ„
      console.log(document.querySelector('#msg').innerHTML)
    }
  };
</script>
```

### 3ã€æ€»ç»“ ğŸš©

â‘  ç»éªŒä¸€

&emsp;å½“ vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼ˆä»£ç æ‰§è¡Œæ—¶ï¼‰ï¼š

> æ˜¯å…ˆ<span style="color:green">æ”¹å˜æ•°æ®</span>ï¼ˆåŒæ­¥æ‰§è¡Œæ‰€æœ‰ï¼‰ï¼Œå†å»<span style="color:green">æ›´æ–° DOM</span>ï¼ˆæ‰§è¡Œå¼‚æ­¥ä»£ç ï¼‰

åº”ç”¨ï¼š

&emsp;&emsp;æœ‰æ—¶æˆ‘ä»¬å¯èƒ½æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šåœ¨æ‰€æœ‰ä»£ç æ‰§è¡Œåï¼ˆåŒ…å« DOM æ›´æ–°ï¼‰å†æ‰§è¡ŒæŸä¸ªæ“ä½œã€‚è¿™æ—¶æˆ‘ä»¬å°±ä¼šç”¨åˆ°åé¢åœ¨ ref å¼•ç”¨ä¸­è¦è®²åˆ°çš„ <span style="color:red">$nextTick(cb)</span> æ–¹æ³•

ç¤ºä¾‹ï¼š

- click ç‚¹å‡»äº‹ä»¶ ä¸ input è¾“å…¥æ¡†è‡ªåŠ¨è·å–ç„¦ç‚¹ï¼ˆåé¢çš„å°æ¡ˆä¾‹ï¼‰

```html
<script>
  export default {
    methods: {
      // é€šè¿‡buttonçš„clickç‚¹å‡»äº‹ä»¶ â€”â€”> æ˜¾ç¤ºinputæ¡†
      change_inputShow() {
        // çŠ¶æ€æ ‡è®°
        this.inputShow = true

        // é‡ç‚¹ï¼šæ˜¾ç¤ºinputæ¡†ã€åã€‘ğŸš©è‡ªåŠ¨è·å–ç„¦ç‚¹
        this.$nextTick(() => {
          this.$refs.input_ref.focus()
        })
      }
    }
  },
</script>
```

- element-ui ä¸­ el-from ä¸ el-dialog çš„æ•°æ®å›æ˜¾

> å³ï¼šel-from çš„æ•°æ®åˆå§‹å€¼ ä¸ resetFields( )ä½¿ç”¨é—®é¢˜

```html
<script>
  export default {
    methods: {
    // ä¿®æ”¹æ–‡ç« -è§¦å‘æŒ‰é’®
    updateCateBtnFn(obj) {
      console.log(obj)
      // æ ‡è®°çŠ¶æ€
      this.isEdit = true
      this.editId = obj.id

      // å®ç°æ•°æ®å›æ˜¾
      this.dialogVisible = true

      // é‡ç‚¹ğŸš©ï¼šä¿è¯ el-from çš„åŸå§‹æ•°æ®åˆå§‹å€¼ä¸å—å½±å“
      this.$nextTick(() => {
        this.addForm.cate_name = obj.cate_name
        this.addForm.cate_alias = obj.cate_alias
      })
    }
  },
</script>
```
