&emsp;&emsp;åŠ¨æ€ç»„ä»¶æ˜¯æŒ‡ <span style="color:red">åŠ¨æ€çš„åˆ‡æ¢ç»„ä»¶çš„æ˜¾ç¤ºå’Œéšè—</span> ã€‚

## ä¸€ã€åŠ¨æ€ç»„ä»¶

### 1ã€ä»£ç æ¼”ç¤º

> ç±»ä¼¼äº App åº•éƒ¨çš„åˆ‡æ¢é¡µé¢çš„æ•ˆæœ

```html
<template>
  <div>
    <button @click="comp_Name = 'Home'">é¦–é¡µ</button>
    <button @click="comp_Name = 'Ower'">æˆ‘çš„</button>

    <div class="box">
      <!-- å®šä¹‰ä¸€ä¸ªåŠ¨æ€ç»„ä»¶ğŸš©ï¼ˆæ³¨æ„è¦ä½¿ç”¨å±æ€§ç»‘å®šv-bindï¼‰ -->
      <component :is="comp_Name"></component>
    </div>
  </div>
</template>

<script>
  import Home from '@/components/Home.vue'
  import Ower from '@/components/Ower.vue'

  export default {
    components: {
      Home,
      Ower
    },
    data() {
      return {
        comp_Name: 'Home'
      }
    }
  }
</script>
```

### 2ã€æ‹“å±•

&emsp;&emsp;ä¸Šé¢çš„å°æ¡ˆä¾‹è²Œä¼¼æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†åœ¨å…¶ä»–åº”ç”¨åœºæ™¯å´å¯èƒ½å­˜åœ¨ bugï¼š

> è‹¥åƒäº¬ä¸œ App è¿™æ ·çš„ï¼Œåœ¨ä¸‹é¢åœ¨åŠ ä¸€ä¸ªè´­ç‰©è½¦(Cart.vue)ï¼Œæ¥å›åˆ‡æ¢æ—¶ï¼Œå‘ç°è´­ç‰©è½¦ä¸­åŸå…ˆé€‰å¥½çš„å•†å“ä¸è§äº† â€”â€” å›åˆ°äº†è´­ç‰©è½¦çš„åŸå§‹ç•Œé¢ã€‚

- é—®é¢˜åˆ†æ

```html
<script>
  export default {
    created() {
      console.log('Homeç»„ä»¶è¢«å»ºç«‹')
    },

    // åˆ‡æ¢åˆ° Owerç»„ä»¶æ—¶ï¼Œå‘ç°Homeç»„ä»¶è¢«é”€æ¯
    destroyed() {
      console.log('Homeç»„ä»¶è¢«é”€æ¯')
    }
  }
</script>
```

- è§£å†³æ–¹æ¡ˆ

&emsp;&emsp;é»˜è®¤æƒ…å†µä¸‹åˆ‡æ¢åŠ¨æ€ç»„ä»¶æ—¶æ— æ³•ä¿æŒç»„ä»¶çš„çŠ¶æ€ã€‚ä½¿ç”¨ vue å†…ç½®çš„ <span style="background-color: yellow;color:black;">\<keep-alive></span> ç»„ä»¶å¯ä»¥ä¿æŒåŠ¨æ€ç»„ä»¶çš„çŠ¶æ€ã€‚

```html
<template>
  <div>
    <button @click="comp_Name = 'Home'">é¦–é¡µ</button>
    <button @click="comp_Name = 'Cart'">è´­ç‰©è½¦</button>
    <button @click="comp_Name = 'Ower'">æˆ‘çš„</button>

    <div class="box">
      <!-- ä½¿ç”¨ keep-alive å¯ä»¥æŠŠâœ¨å†…éƒ¨çš„ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œè€Œä¸æ˜¯é”€æ¯ç»„ä»¶ -->
      <keep-alive>
        <component :is="comp_Name"></component>
      </keep-alive>
    </div>
  </div>
</template>
```

- åŸç†è§£æ

&emsp;&emsp;é€šè¿‡ vue è°ƒè¯•å·¥å…·å¯ä»¥å‘ç°ï¼Œåˆ‡æ¢é¡µé¢æ—¶ï¼Œå¯¹`<Cart>æ ‡ç­¾`è¿›è¡Œäº† <span style="color:green;">inactive</span> æ ‡è®°ã€‚

## äºŒã€keep-alive ä½¿ç”¨

### 1ã€keep-alive çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°

Cart.vue

```html
<script>
  export default {
    // ç¦»å¼€Cartç»„ä»¶æ—¶ï¼Œå®ƒä¼šè¢«ç¼“å­˜ï¼ˆåŒæ—¶è‡ªåŠ¨è§¦å‘ç»„ä»¶çš„ deactivatedç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼‰
    deactivated() {
      console.log('Cartç»„ä»¶è¢«ç¼“å­˜')
    },

    // å›åˆ°Cartç»„ä»¶æ—¶ï¼Œå®ƒä¼šè¢«æ¿€æ´»ï¼ˆåŒæ—¶è‡ªåŠ¨è§¦å‘ç»„ä»¶çš„ activatedç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼‰
    activated() {
      console.log('Cartç»„ä»¶è¢«æ¿€æ´»')
    }
  }
</script>
```

### 2ã€keep-alive çš„ include å±æ€§

&emsp;&emsp;åœ¨ä¸Šé¢çš„æ¡ˆä¾‹ä¸­æˆ‘ä»¬å‘ç°ï¼Œè‹¥å¹²ä½¿ç”¨äº† keep-aliveï¼Œé‚£ä¹ˆæ‰€ä»¥çš„ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ï¼Œè€Œå¯¹äº Ower ç»„ä»¶ï¼Œæ˜¾ç„¶æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚

&emsp;&emsp;è€Œ keep-alive ä¸­çš„ <span style="color:green;">include å±æ€§</span> å¯ä»¥æŒ‡å®šå“ªäº›ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼ˆå¤šä¸ªç»„ä»¶åä¹‹é—´ç”¨è‹±æ–‡é€—å·éš”å¼€ï¼‰ã€‚

- ä»£ç æ¼”ç¤º

```html
<template>
  <div>
    <button @click="comp_Name = 'Home'">é¦–é¡µ</button>
    <button @click="comp_Name = 'Cart'">è´­ç‰©è½¦</button>
    <button @click="comp_Name = 'Ower'">æˆ‘çš„</button>

    <div class="box">
      <keep-alive include="Car">
        <component :is="comp_Name"></component>
      </keep-alive>
    </div>
  </div>
</template>
```

> åŒç†ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡å®šå“ªäº›ç»„ä»¶ä¸ç”¨è¢«ç¼“å­˜çš„ exinclude å±æ€§ã€‚ä½†äºŒè€…ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚

### 3ã€Vue Router ä¸­çš„åº”ç”¨

```html
<template>
  <div class="layout-container">
    <!-- å¤´éƒ¨åŒºåŸŸ -->

    <!-- å†…å®¹åŒºåŸŸ -->
    <div class="main">
      <keep-alive>
        <!-- è·¯ç”±âœ¨ç¼“å­˜ -->
        <router-view></router-view>
      </keep-alive>
    </div>

    <!-- åº•éƒ¨åŒºåŸŸ -->
  </div>
</template>
```

## ä¸‰ã€components ä¸ name çš„åŒºåˆ«

### 1ã€components

&emsp;&emsp;components æ³¨å†Œçš„ç»„ä»¶åç§°ä¸»è¦åº”ç”¨äºï¼šä»¥æ ‡ç­¾çš„æ–¹å¼ä½¿ç”¨è¯¥ç»„ä»¶

- Ren.vue

```html
<template>
  <div>
    <!-- æ ‡ç­¾çš„æ–¹å¼ä½¿ç”¨vueç»„ä»¶ -->
    <Home></Home>
    <Ower></Ower>
  </div>
</template>

<script>
  import Home from '@/components/Home.vue'
  import Ower from '@/components/Ower.vue'

  export default {
    components: {
      Home,
      Ower
    }
  }
</script>
```

### 2ã€name

&emsp;&emsp;name å£°æ˜çš„ç»„ä»¶åç§°ä¸»è¦åº”ç”¨äºï¼š<keep-alive> æ ‡ç­¾å®ç°ç»„ä»¶ç¼“å­˜åŠŸèƒ½æ—¶ï¼ˆåœ¨è°ƒè¯•å·¥å…·ä¸­èƒ½çœ‹åˆ°ä¸ªæ€§çš„ name æ ‡ç­¾åï¼‰

- Ren.vue

```html
<template>
  <div class="box">
    <!-- includeç¼“å­˜çš„æ—¶å€™ è°ƒè¯•å·¥å…·ä¸Šçš„ä¸ªæ€§nameæ ‡ç­¾å -->
    <keep-alive include="footer_son">
      <component :is="comp_Name"></component>
    </keep-alive>
  </div>
</template>

<script>
  import Son from '@/components/Son.vue'

  export default {
    components: {
      Son
    }
  }
</script>
```

Son.vue

```html
<script>
  export default {
    name: 'footer_Son'
  }
</script>
```
